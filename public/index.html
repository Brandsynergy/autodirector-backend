<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mediad AutoDirector</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#0b0f14; color:#e8eef6; }
    .shell { max-width: 980px; margin: 40px auto; padding: 24px; background:#0f1620; border:1px solid #1b2533; border-radius:14px; }
    h1 { margin:0 0 10px 0; font-size:28px; }
    .sub { opacity:.7; margin-bottom:24px; }
    label { display:block; font-size:14px; opacity:.85; margin:14px 0 8px; }
    input, textarea { width:100%; padding:12px 14px; background:#111a24; color:#e8eef6; border:1px solid #223047; border-radius:10px; }
    .row { display:flex; gap:12px; }
    .row > * { flex:1; }
    button { background:#5aa1ff; color:#021126; border:0; border-radius:10px; padding:12px 18px; font-weight:700; cursor:pointer; }
    pre { background:#0c131b; border:1px solid #1c2838; padding:12px; border-radius:10px; overflow:auto; }
    .ok { color:#82ffa1; }
    .err { color:#ff9393; }
  </style>
</head>
<body>
  <div class="shell">
    <h1>Mediad AutoDirector</h1>
    <div class="sub">Natural-language → plan → run. Screenshots + email sending.</div>

    <label>Describe what to automate</label>
    <textarea id="prompt" rows="3">Screenshot https://cnn.com and email it to support@mivado.co</textarea>
    <div style="margin:12px 0;">
      <button id="btnPlan">Plan</button>
      <button id="btnRun">Run</button>
    </div>

    <div class="row">
      <div>
        <label>Planned Flow</label>
        <pre id="planBox">—</pre>
      </div>
      <div>
        <label>Run Console</label>
        <pre id="runBox">—</pre>
      </div>
    </div>

    <hr style="margin:28px 0;border:0;border-top:1px solid #1b2533" />

    <label>Quick tool: Capture a page and email the screenshot</label>
    <div class="row">
      <input id="quickUrl" placeholder="https://www.cnn.com" value="https://www.cnn.com" />
      <input id="quickEmail" placeholder="you@example.com (optional)" />
    </div>
    <div style="margin-top:12px">
      <button id="btnQuick">Capture &amp; Email</button>
    </div>
    <pre id="quickBox"></pre>
  </div>

<script>
const planBox = document.getElementById('planBox');
const runBox = document.getElementById('runBox');
const quickBox = document.getElementById('quickBox');

document.getElementById('btnPlan').onclick = async () => {
  planBox.textContent = 'Planning…';
  try {
    const prompt = document.getElementById('prompt').value;
    const r = await fetch('/plan', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({prompt}) });
    const j = await r.json();
    planBox.textContent = JSON.stringify(j, null, 2);
  } catch (e) {
    planBox.textContent = 'Error: ' + e;
  }
};

document.getElementById('btnRun').onclick = async () => {
  runBox.textContent = 'Running…';
  try {
    // plan then run
    const prompt = document.getElementById('prompt').value;
    const p = await fetch('/plan', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({prompt}) });
    const pj = await p.json();
    const steps = pj.steps || [];
    const r = await fetch('/run', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({steps}) });
    const j = await r.json();
    runBox.textContent = JSON.stringify(j, null, 2);
  } catch (e) {
    runBox.textContent = 'Error: ' + e;
  }
};

document.getElementById('btnQuick').onclick = async () => {
  quickBox.textContent = 'Working…';
  try {
    const url = document.getElementById('quickUrl').value;
    const email = document.getElementById('quickEmail').value || undefined;
    const r = await fetch('/quick', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({url, email}) });
    const j = await r.json();
    quickBox.textContent = JSON.stringify(j, null, 2);
  } catch (e) {
    quickBox.textContent = 'Error: ' + e;
  }
};
</script>
</body>
</html>
                                                            
  
  
  
                                                            
  
  
  
                                                            
  
  
  
                                                                                
  
  
  
  
                                        
  
  
                    
                      
                      
  
                                                            
  
  
  
                                                                                
  
  
  
  
                                                                                                    
  
  
  
  
  
                                                                                                    
  
  
  
  
  
                                                                                
  
  
  
  
                                                                                
  
  
  
  
                                                                                
  
  
  
  
                                                            
  
  
  
